<!DOCTYPE html>
<html>
  <head>
    <title>jQuery WeUI</title>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

<link rel="stylesheet" href="../lib/weui.min.css">
<link rel="stylesheet" href="../css/jquery-weui.css">
<link rel="stylesheet" href="css/demos.css">
<style>
.error{ 
    height:25px; 
    line-height:25px; 
    color:#F00; 
    }
.success{ 
    height:25px; 
    line-height:25px; 
    color:#096;
    } 
  </style>
  </head>

  <body ontouchstart>

    <!-- 头部 -->
    <header class='demos-header'>
      <h1 class="demos-title">Footer</h1>
    </header>

    <!-- 内容 -->
    <div class="weui-cells__title">表单</div>
    <div class="weui-cells weui-cells_form" id="form">
      <div class="weui-cell">
        <div class="weui-cell__hd">
          <label class="weui-label">姓名</label>
        </div>
        <div class="weui-cell__bd">
          <input class="weui-input" id="userName" type="text" placeholder="请输入姓名" onBlur="checkUserName()" oninput="checkUserName()">
        </div>
        <div class="weui-cell__ft" id="nameErr">
          请输入至少3位的用户名
        </div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">准考证号</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" type="number" pattern="[0-9]*" id="userPasword" onBlur="checkPassword()" oninput="checkPassword()" placeholder="请输入准考证号">
        </div>
        <div class="weui-cell__ft" id="passwordErr">请输入14位准考证号</div>
      </div>
      <div class="weui-cell">
        <div class="weui-cell__hd"><label class="weui-label">身份证号</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" type="text" pattern="[0-9]*" placeholder="请输入身份证号" id="userPhone" onBlur="checkId()" oninput="checkId()" placeholder="请输入身份证号">
        </div>
        <div class="weui-cell__ft" id="phoneErr">请输入身份证号</div>
      </div>
      <div class="weui-cell weui-cell_vcode">
        <div class="weui-cell__hd"><label class="weui-label">验证码</label></div>
        <div class="weui-cell__bd">
          <input class="weui-input" type="number" placeholder="请输入验证码">
        </div>
        <div class="weui-cell__ft">
          <img class="weui-vcode-img" src="./images/vcode.jpg">
        </div>
      </div>
    </div>
    <label for="weuiAgree" class="weui-agree">
      <input id="weuiAgree" type="checkbox" class="weui-agree__checkbox" onclick="checkForm()">
      <span class="weui-agree__text">
        阅读并同意<a href="javascript:">《相关条款》</a>
      </span>
    </label>
    <div class="weui-btn-area">
      <a class="weui-btn weui-btn_disabled weui-btn_primary" href="javascript:" id="showTooltips" >确定</a>
    </div>
    <!-- 尾部 -->
    <div class="weui-footer weui-footer_fixed-bottom">
      <p class="weui-footer__links">
        <a href="http://jqweui.com" class="weui-footer__link">jQuery-WeUI 首页</a>
      </p>
      <p class="weui-footer__text">Copyright © 2016 jqweui.io</p>
    </div>
    <script src="../js/jquery-weui.js"></script>
    <script src="../lib/jquery-2.1.4.js"></script>
    <script src="../lib/fastclick.js"></script>
<script>
  $(function() {
    FastClick.attach(document.body);
  });
</script>
<script src="../js/jquery-weui.js"></script>
<script type="text/javascript"> 
 function checkForm(){ 
  var nametip = checkUserName(); 
  var passtip = checkPassword();  
  var phonetip = checkId(); 
  if(nametip&&passtip&&phonetip)
     {
       var showtooltips = document.getElementById('showTooltips');
       showtooltips.style.backgroundColor="#1aad19";
       showtooltips.style.color="#fff";
       click();
     } 
  } 
  //验证用户名   
  function checkUserName(){ 
  var username = document.getElementById('userName'); 
  var errname = document.getElementById('nameErr'); 
  var pattern = /^[\u4E00-\u9FA5]{2,4}$/;  //姓名格式正则表达式：姓名要至少两位 
  if(username.value.length == 0){ 
    errname.innerHTML="用户名不能为空"
    errname.className="error"
    return false; 
    } 
  if(!pattern.test(username.value)){ 
    errname.innerHTML="用户名不合规范"
    errname.className="error"
    return false; 
    } 
   else{ 
     errname.innerHTML="<img src='images/icon_nav_msg.png' height='25px' weight='20px' alt='' />";
     return true; 
     } 
  } 
  //验证准考证号
function checkPassword(){ 
  var userpasswd = document.getElementById('userPasword'); 
  var errPasswd = document.getElementById('passwordErr'); 
  var pattern = /^[\da-zA-Z]{14}$/; //准考证号为14位
  if(userpasswd.value.length == 0){ 
    errPasswd.innerHTML="准考证号不能为空"
    errPasswd.className="error"
    return false; 
    }  
  if(!pattern.test(userpasswd.value)){ 
    errPasswd.innerHTML="准考证号不合规范"
    errPasswd.className="error"
    return false; 
    } 
   else{ 
     errPasswd.innerHTML="<img src='images/icon_nav_msg.png' height='25px' weight='20px' alt='' />";
     return true; 
     } 
  } 
//验证身份证号
  function checkId(){ 
  var userphone = document.getElementById('userPhone'); 
  var phonrErr = document.getElementById('phoneErr'); 
  var pattern = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/; //验证身份证号正则表达式 
  if(userphone.value.length == 0){ 
    phonrErr.innerHTML="准考证号不能为空"
    phonrErr.className="error"
    return false; 
    }   
  if(!pattern.test(userphone.value)){ 
    phonrErr.innerHTML="身份证号码不合规范"
    phonrErr.className="error"
    return false; 
    } 
   else{ 
     phonrErr.innerHTML="<img src='images/icon_nav_msg.png' height='25px' weight='20px' alt='' />";
     return true; 
     } 
  } 
</script>
<script>
 function click(){
      $(document)
      .on('click', '#showTooltips', function() {
        $.toptip('操作成功', 2000,'success');
        $(window).attr('location','select.html');
      });
    }
    </script>    
  </body>
</html>
